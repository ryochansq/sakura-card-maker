(this["webpackJsonpcard-maker"]=this["webpackJsonpcard-maker"]||[]).push([[0],{100:function(e,a,t){},136:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(10),l=t.n(c),i=(t(100),t(7)),o=t(137),m=t(185),s=t(188),u=t(168),d=t(189),p=t(78),E=Object(p.a)((function(e){return e}),{name:"",year:"",month:"",date:"",grade:"\u4e2d\u7b49\u90e8",gradeYear:"",myBoom:"",target:"",accessToken:{},iconUrl:"",isBackdropOpen:!1,isError:!1}),g=t(57),b=t(12),h=t(26),f=t.n(h),v=t(38),w=t(171),k=t(80),j=t(81),y=t(173),S=t(175),x=t(192),O=t(33),N=t.n(O);N.a.defaults.baseURL="https://dhvwqsfku5.execute-api.ap-northeast-1.amazonaws.com/dev",N.a.defaults.headers.post["Content-Type"]="application/json;charset=utf-8",N.a.defaults.headers.post["Access-Control-Allow-Origin"]="*";var C=function(e,a){var t={oauth_token:e,oauth_verifier:a};return N.a.post("/access_token",t)},T=function(e){var a={access_token:e};return N.a.post("/icon",a)},G=function(e,a){var t={access_token:e,image:a};return N.a.post("/tweet",t)},z=Object(u.a)({paper:{padding:"16px 8px"},buttonContainer:{padding:32},button:{textTransform:"none"}}),_=function(){var e=E.useGlobalState("isBackdropOpen"),a=Object(i.a)(e,2),t=a[0],n=a[1],c=E.useGlobalState("isError"),l=Object(i.a)(c,2)[1],o=z(),m=function(){var e=Object(v.a)(f.a.mark((function e(){var a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.prev=1,e.next=4,N.a.get("/request_token");case 4:a=e.sent,window.location.href=a.data.authenticate_endpoint,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),l(!0);case 11:n(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width"}),r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(w.a,{item:!0,xs:12,md:8,lg:6},r.a.createElement(k.a,{className:o.paper},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,container:!0,justify:"center"},r.a.createElement(j.a,{variant:"subtitle1"},"\u81ea\u5206\u306e\u751f\u5f92\u8a3c\u3092\u4f5c\u6210\u3067\u304d\u308b\u30b5\u30a4\u30c8\u3067\u3059\uff01")),r.a.createElement(w.a,{container:!0,item:!0,justify:"center",alignItems:"center",className:o.buttonContainer},r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:m,size:"large",disabled:t,className:o.button,startIcon:r.a.createElement(x.a,null)},"Twitter\u8a8d\u8a3c\u3057\u3066\u751f\u5f92\u8a3c\u3092\u4f5c\u308b")),r.a.createElement(w.a,{item:!0,container:!0,justify:"center"},r.a.createElement(j.a,{variant:"body2"},"Twitter\u8a8d\u8a3c\u306f\u30a2\u30a4\u30b3\u30f3\u53d6\u5f97\u3068\u5171\u6709\u30c4\u30a4\u30fc\u30c8\u306e\u305f\u3081\u3060\u3051\u306b\u4f7f\u7528\u3057\u307e\u3059")),r.a.createElement(w.a,{item:!0,container:!0,justify:"center"},r.a.createElement(j.a,{variant:"subtitle1"},"\u2193 \u30b5\u30f3\u30d7\u30eb \u2193"),r.a.createElement(w.a,{item:!0,container:!0,justify:"center",alignItems:"center"},r.a.createElement("img",{src:"".concat("/sakura-card-maker","/sample.jpg"),width:"70%",alt:"sample"}))),r.a.createElement(w.a,{item:!0,container:!0,justify:"flex-end"},r.a.createElement(j.a,{variant:"caption"},"Created by"," ",r.a.createElement(S.a,{href:"https://twitter.com/ryochan_metal",target:"_blank"},"@ryochan_metal"))),r.a.createElement(w.a,{item:!0,container:!0,justify:"flex-end"},r.a.createElement(j.a,{variant:"caption"},"\u63a8\u5968\u30d6\u30e9\u30a6\u30b6\uff1aChrome, Safari")))))))},I=t(180),B=t(181),R=t(182),H=t(76),L=t.n(H),J=t(77),F=t.n(J),U=t(186),Y=t(191),A=t(187),D=t(179),K=function(e){var a=e.item,t=e.rows,n=e.appendText,c=E.useGlobalState(a),l=Object(i.a)(c,2),o=l[0],m=l[1];return r.a.createElement(A.a,{variant:"outlined",size:"small",fullWidth:!0,multiline:t>1,rows:t,InputProps:{endAdornment:r.a.createElement(D.a,{position:"end"},n||"")},value:o,onChange:function(e){return m(e.target.value)}})},W=function(e){var a=e.children,t=e.title;return r.a.createElement(w.a,{item:!0,xs:12},r.a.createElement(w.a,{container:!0,direction:"row",alignItems:"center"},r.a.createElement(w.a,{item:!0,xs:12,sm:2},r.a.createElement(j.a,{variant:"subtitle2"},t)),a))},q=Object(u.a)({root:{padding:"8px"}}),M=function(){var e=E.useGlobalState("grade"),a=Object(i.a)(e,2),t=a[0],n=a[1],c=q();return r.a.createElement(w.a,{container:!0,className:c.root,spacing:2},r.a.createElement(W,{title:"\u540d\u524d"},r.a.createElement(w.a,{item:!0,xs:12,sm:6},r.a.createElement(K,{item:"name",rows:1}))),r.a.createElement(W,{title:"\u751f\u5e74\u6708\u65e5"},r.a.createElement(w.a,{item:!0,xs:4,sm:3},r.a.createElement(K,{item:"year",rows:1,appendText:"\u5e74"})),r.a.createElement(w.a,{item:!0,xs:4,sm:2},r.a.createElement(K,{item:"month",rows:1,appendText:"\u6708"})),r.a.createElement(w.a,{item:!0,xs:4,sm:2},r.a.createElement(K,{item:"date",rows:1,appendText:"\u65e5"}))),r.a.createElement(W,{title:"\u5b66\u5e74"},r.a.createElement(U.a,{variant:"outlined",margin:"dense",value:t,onChange:function(e){return n(e.target.value)}},r.a.createElement(Y.a,{value:"\u4e2d\u7b49\u90e8"},"\u4e2d\u7b49\u90e8"),r.a.createElement(Y.a,{value:"\u5c0f\u7b49\u90e8"},"\u5c0f\u7b49\u90e8")),r.a.createElement(w.a,{item:!0,xs:4,sm:2},r.a.createElement(K,{item:"gradeYear",rows:1,appendText:"\u5e74"}))),r.a.createElement(W,{title:"\u30de\u30a4\u30d6\u30fc\u30e0"},r.a.createElement(w.a,{item:!0,xs:12,sm:10},r.a.createElement(K,{item:"myBoom",rows:2}))),r.a.createElement(W,{title:"\u4eca\u5e74\u306e\u76ee\u6a19"},r.a.createElement(w.a,{item:!0,xs:12,sm:10},r.a.createElement(K,{item:"target",rows:2}))))},V=Object(u.a)({button:{textTransform:"none"}}),X=function(e){var a=e.src,t=e.open,n=e.setOpen,c=r.a.useState(!1),l=Object(i.a)(c,2),o=l[0],m=l[1],s=E.useGlobalState("accessToken"),u=Object(i.a)(s,1)[0],d=E.useGlobalState("isBackdropOpen"),p=Object(i.a)(d,2),g=p[0],b=p[1],h=E.useGlobalState("isError"),k=Object(i.a)(h,2)[1],S=V(),O=function(){n(!1),m(!1)},N=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,G(u,a);case 4:m(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),k(!0);case 10:b(!1);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(I.a,{open:t,disableBackdropClick:!0},r.a.createElement(B.a,null,r.a.createElement(w.a,{container:!0,justify:"center",alignItems:"center",spacing:2},r.a.createElement(w.a,{item:!0},r.a.createElement("img",{src:a,width:"100%",alt:"\u751f\u5f92\u8a3c\u753b\u50cf",onClick:function(){var e=window.open("about:blank");e&&e.document.write('<img style="object-fit: contain;width: 100%;height: 100%;" src=\''.concat(a,"' />"))}})),r.a.createElement(w.a,{item:!0},r.a.createElement(j.a,{variant:"subtitle1"},o?"\u30c4\u30a4\u30fc\u30c8\u3057\u307e\u3057\u305f\uff01":"\u30c4\u30a4\u30fc\u30c8\u3057\u3066\u5171\u6709\u3057\u3088\u3046\uff01")))),r.a.createElement(R.a,null,r.a.createElement(w.a,{container:!0,justify:"center",alignItems:"center"},o?r.a.createElement(y.a,{onClick:O,variant:"contained",color:"primary",size:"large"},"OK"):r.a.createElement(w.a,{container:!0,justify:"center",alignItems:"center",spacing:2,direction:"row-reverse"},r.a.createElement(w.a,{item:!0},r.a.createElement(y.a,{onClick:N,variant:"contained",color:"primary",size:"large",disabled:g,className:S.button,startIcon:r.a.createElement(x.a,null)},"Twitter\u3067\u5171\u6709")),r.a.createElement(w.a,{item:!0},r.a.createElement(y.a,{onClick:O},"\u30ad\u30e3\u30f3\u30bb\u30eb"))))))},P=Object(u.a)({header:{width:"100%",height:160,display:"flex"},logo:{marginLeft:70},logoJp:{fontSize:60,paddingTop:56,letterSpacing:-2},logoEn:{fontSize:32,marginTop:8,marginLeft:16,letterSpacing:4},titleJp:{fontSize:72,marginLeft:"auto",paddingTop:64,marginRight:16,letterSpacing:110},titleEn:{width:"100%",height:44,fontSize:44,lineHeight:1,paddingRight:44,letterSpacing:40,textAlign:"end",marginBottom:-8},border:{width:"100%",height:8,color:"#E62588",backgroundColor:"#E62588",margin:0}}),$=function(){var e=P();return r.a.createElement("div",null,r.a.createElement("div",{className:e.header},r.a.createElement("div",{className:e.logo},r.a.createElement("div",{className:e.logoJp},"\u3055\u304f\u3089\u5b66\u9662 \u7236\u5144"),r.a.createElement("div",{className:e.logoEn},"Sakura Gakuin Fukei")),r.a.createElement("div",{className:e.titleJp},"\u751f\u5f92\u8a3c")),r.a.createElement("div",{className:e.titleEn},"Student Card"),r.a.createElement("hr",{className:e.border}))},Q=Object(u.a)({body:{width:"100%",height:694,display:"flex",backgroundImage:"url(".concat("/sakura-card-maker","/background.png)"),backgroundSize:"cover",marginTop:2},left:{width:470,height:590,paddingLeft:60,paddingTop:100},right:{width:870,height:630,paddingTop:60},icon:{width:380,height:380,backgroundColor:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",fontSize:40,lineHeight:2},empire:{marginTop:64,marginLeft:16,fontSize:24,lineHeight:1.3,letterSpacing:2},row:{padding:"7px 0",display:"flex",alignItems:"center",letterSpacing:2,lineHeight:1.2},key:{width:210,fontSize:32},value:{width:600,fontSize:48,color:"#333333"},ymd:{fontSize:40,color:"#333333"},boomRow:{width:"100%",height:120,whiteSpace:"pre-wrap"},targetKey:{marginTop:16,fontSize:32,letterSpacing:2,lineHeight:1.2},targetValue:{margin:"20px 0 0 60px",width:760,height:190,fontSize:56,color:"#333333",fontFamily:"TanukiMagic !important",letterSpacing:2,lineHeight:1.2,whiteSpace:"pre-wrap"}}),Z=function(){var e=E.useGlobalState("name"),a=Object(i.a)(e,1)[0],t=E.useGlobalState("year"),n=Object(i.a)(t,1)[0],c=E.useGlobalState("month"),l=Object(i.a)(c,1)[0],o=E.useGlobalState("date"),m=Object(i.a)(o,1)[0],s=E.useGlobalState("grade"),u=Object(i.a)(s,1)[0],d=E.useGlobalState("gradeYear"),p=Object(i.a)(d,1)[0],g=E.useGlobalState("myBoom"),b=Object(i.a)(g,1)[0],h=E.useGlobalState("target"),f=Object(i.a)(h,1)[0],v=E.useGlobalState("iconUrl"),w=Object(i.a)(v,1)[0],k=Q();return r.a.createElement("div",{className:k.body},r.a.createElement("div",{className:k.left},r.a.createElement("div",{className:k.icon},r.a.createElement("img",{src:w,width:"100%",height:"auto",alt:"\u30a2\u30a4\u30b3\u30f3"})),r.a.createElement("div",{className:k.empire},r.a.createElement("div",null,"\u6709\u52b9\u671f\u9650"),r.a.createElement("div",null,"2021.8.31"))),r.a.createElement("div",{className:k.right},r.a.createElement("div",{className:k.row},r.a.createElement("div",{className:k.key},"\u6c0f\u3000\u3000\u540d"),r.a.createElement("div",{className:k.value},a)),r.a.createElement("div",{className:k.row},r.a.createElement("div",{className:k.key},"\u751f\u5e74\u6708\u65e5"),r.a.createElement("div",{className:k.value},n," ",r.a.createElement("span",{className:k.ymd},"\u5e74")," ",l," ",r.a.createElement("span",{className:k.ymd},"\u6708")," ",m," ",r.a.createElement("span",{className:k.ymd},"\u65e5"))),r.a.createElement("div",{className:k.row},r.a.createElement("div",{className:k.key},"\u5b66\u3000\u3000\u5e74"),r.a.createElement("div",{className:k.value},"".concat(u," ").concat(p," \u5e74"))),r.a.createElement("div",{className:k.boomRow},r.a.createElement("div",{className:k.row},r.a.createElement("div",{className:k.key},"\u30de\u30a4\u30d6\u30fc\u30e0"),r.a.createElement("div",{className:k.value},b))),r.a.createElement("div",{className:k.targetKey},"\u4eca\u5e74\u306e\u76ee\u6a19"),r.a.createElement("div",{className:k.targetValue},f)))},ee=Object(u.a)({root:{width:"100%",height:"100%",backgroundColor:"#FEF3F8",borderRadius:8,color:"#E62588"}}),ae=function(){var e=ee();return r.a.createElement("div",{className:e.root},r.a.createElement($,null),r.a.createElement(Z,null))},te=Object(u.a)({paper:{padding:"16px 8px"},buttonContainer:{padding:32},card:{position:"absolute",top:-3e3,width:1342,height:900},button:{textTransform:"none"}}),ne=function(){var e=r.a.useState(!1),a=Object(i.a)(e,2),t=a[0],n=a[1],c=r.a.useState(!1),l=Object(i.a)(c,2),o=l[0],m=l[1],s=r.a.useState(""),u=Object(i.a)(s,2),d=u[0],p=u[1],g=E.useGlobalState("accessToken"),h=Object(i.a)(g,2)[1],x=E.useGlobalState("iconUrl"),O=Object(i.a)(x,2)[1],N=E.useGlobalState("isBackdropOpen"),G=Object(i.a)(N,2),z=G[0],_=G[1],H=E.useGlobalState("isError"),J=Object(i.a)(H,2)[1],U=te(),Y=r.a.useRef(null),A=Object(b.h)(),D=Object(b.g)();r.a.useEffect((function(){(function(){var e=Object(v.a)(f.a.mark((function e(){var a,t,n,r,c,l;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=F.a.parse(A.search),t=a.oauth_token,n=a.oauth_verifier,e.next=6,C(t,n);case 6:return r=e.sent,h(r.data.access_token),e.next=10,T(r.data.access_token);case 10:c=e.sent,l=c.data.icon,O(l),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),J(!0),D.push("/");case 19:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}})()()}),[A,h,O,J,D]);return r.a.createElement("div",null,r.a.createElement("meta",{name:"viewport",content:"minimum-scale=1, initial-scale=1, width=device-width"}),r.a.createElement("div",{ref:Y,className:U.card},r.a.createElement(ae,null)),r.a.createElement(w.a,{container:!0,justify:"center"},r.a.createElement(w.a,{item:!0,xs:12,md:8,lg:6},r.a.createElement(k.a,{className:U.paper},r.a.createElement(w.a,{container:!0,spacing:2},r.a.createElement(w.a,{item:!0,container:!0},r.a.createElement(j.a,{variant:"subtitle1"},"\u4ee5\u4e0b\u3092\u5165\u529b\u3057\u3066\u3001\u81ea\u5206\u306e\u751f\u5f92\u8a3c\u3092\u4f5c\u308d\u3046\uff01")),r.a.createElement(w.a,{item:!0,container:!0},r.a.createElement(M,null)),r.a.createElement(w.a,{container:!0,item:!0,justify:"center",alignItems:"center",className:U.buttonContainer},r.a.createElement(y.a,{variant:"contained",color:"primary",onClick:function(){window.scrollTo(0,0),m(!0)},size:"large",disabled:z,className:U.button},"\u751f\u5f92\u8a3c\u3092\u4f5c\u6210\u3059\u308b")),r.a.createElement(w.a,{item:!0,container:!0,justify:"flex-end"},r.a.createElement(j.a,{variant:"caption"},"Created by"," ",r.a.createElement(S.a,{href:"https://twitter.com/ryochan_metal",target:"_blank"},"@ryochan_metal")))),r.a.createElement(X,{src:d,open:t,setOpen:n}),r.a.createElement(I.a,{open:o},r.a.createElement(B.a,null,r.a.createElement(j.a,{variant:"subtitle1"},"\u751f\u5f92\u8a3c\u3092\u4f5c\u6210\u3057\u307e\u3059\u304b\uff1f")),r.a.createElement(R.a,null,r.a.createElement(y.a,{onClick:function(){return m(!1)}},"\u30ad\u30e3\u30f3\u30bb\u30eb"),r.a.createElement(y.a,{onClick:function(){m(!1),Y.current?(_(!0),L()(Y.current,{scrollX:-window.scrollX,scrollY:-window.scrollY}).then((function(e){p(e.toDataURL()),n(!0),_(!1)}))):J(!0)},variant:"contained",color:"primary",size:"large"},"\u4f5c\u6210\u3059\u308b")))))))},re=function(){return r.a.createElement(g.a,{basename:"/sakura-card-maker"},r.a.createElement(b.d,null,r.a.createElement(b.b,{path:"/",exact:!0,component:_}),r.a.createElement(b.b,{path:"/edit",component:ne}),r.a.createElement(b.b,{component:function(){return r.a.createElement(b.a,{to:"/"})}})))},ce=t(183),le=t(184),ie=function(){return r.a.createElement(ce.a,{position:"static"},r.a.createElement(le.a,null,r.a.createElement(j.a,{variant:"h6"},"\u3055\u304f\u3089\u5b66\u9662 \u751f\u5f92\u8a3c\u30e1\u30fc\u30ab\u30fc\uff08\u958b\u767a\u4e2d\uff09")))},oe=Object(u.a)((function(){return Object(d.a)({backdrop:{zIndex:9999}})})),me=function(){var e=E.useGlobalState("isBackdropOpen"),a=Object(i.a)(e,1)[0],t=E.useGlobalState("isError"),n=Object(i.a)(t,2),c=n[0],l=n[1],u=oe();return r.a.createElement("div",null,r.a.createElement(ie,null),r.a.createElement(re,null),r.a.createElement(o.a,{className:u.backdrop,open:a},r.a.createElement(m.a,null)),r.a.createElement(s.a,{open:c,onClose:function(){return l(!1)},message:"\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f\u3002\u3057\u3070\u3089\u304f\u6642\u9593\u3092\u304a\u3044\u3066\u518d\u5ea6\u30a2\u30af\u30bb\u30b9\u3057\u3066\u4e0b\u3055\u3044",autoHideDuration:5e3}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(me,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},95:function(e,a,t){e.exports=t(136)}},[[95,1,2]]]);
//# sourceMappingURL=main.c6512e58.chunk.js.map